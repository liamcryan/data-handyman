<!DOCTYPE HTML>

<html>
    <head>
        
            
                <title>Python Gmail - part 1</title>
            
        

        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="generator" content="Hugo 0.24.1" />
        


        
            <meta name="author" content="Liam Cryan">
        
        
            <meta name="description" content="Required set up for python - gmail interaction">
        

        

  <meta name="twitter:card" content="summary"/>



<meta name="twitter:text:title" content="Python Gmail - part 1"/>
<meta name="twitter:title" content="Python Gmail - part 1"/>
<meta name="twitter:description" content="Required set up for python - gmail interaction"/>


        <meta property="og:title" content="Python Gmail - part 1" />
<meta property="og:description" content="Required set up for python - gmail interaction" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://data-handyman.com/blog/python-gmail1/" />



<meta property="article:published_time" content="2017-09-15T00:00:00&#43;00:00"/>
<meta property="article:modified_time" content="2017-09-15T00:00:00&#43;00:00"/>











        
<meta itemprop="name" content="Python Gmail - part 1">
<meta itemprop="description" content="Required set up for python - gmail interaction">


<meta itemprop="dateModified" content="2017-09-15T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="455">



<meta itemprop="keywords" content="Python,programming,2 step authentication,app password,google," />

        

        
            
        

        
        
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css">
            <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:400,800,900|Source+Sans+Pro:400,700">
            <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.css">
            <link rel="stylesheet" href="/css/main.css">
            <link rel="stylesheet" href="/css/add-on.css">
        

        
            
                
            
        

      
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-106240485-1', 'auto');
ga('send', 'pageview');
</script>

    </head>
    <body>

      
      <div id="wrapper">

    
    
<header id="header">
    
      <h1><a href="/">blog</a></h1>
    

    <nav class="links">
        <ul>
            
                <li>
                    <a href="/">
                            <i class="fa fa-home">&nbsp;</i>Home
                    </a>
                </li>
            
                <li>
                    <a href="/about/">
                            <i class="fa fa-id-card-o">&nbsp;</i>About
                    </a>
                </li>
            
                <li>
                    <a href="/blog/">
                            <i class="fa fa-newspaper-o">&nbsp;</i>Blog
                    </a>
                </li>
            
                <li>
                    <a href="/contact/">
                            <i class="fa fa-envelope-o">&nbsp;</i>Contact
                    </a>
                </li>
            
        </ul>
    </nav>
    <nav class="main">
        <ul>
            
            <li id="share-nav" class="share-menu" style="display:none;">
                <a class="fa-share-alt" href="#share-menu">Share</a>
            </li>
            
            <li class="search">
                <a class="fa-search" href="#search">Search</a>
                <form id="search" method="get" action="//google.com/search">
                    <input type="text" name="q" placeholder="Search" />
                    <input type="hidden" name="as_sitesearch" value="http://data-handyman.com/">
                </form>
            </li>
            <li class="menu">
                <a class="fa-bars" href="#menu">Menu</a>
            </li>
        </ul>
    </nav>
</header>


<section id="menu">

    
        <section>
            <form class="search" method="get" action="//google.com/search">
                <input type="text" name="q" placeholder="Search" />
                <input type="hidden" name="as_sitesearch" value="http://data-handyman.com/">
            </form>
        </section>

    
        <section>
            <ul class="links">
                
                    <li>
                        <a href="/">
                            <h3>
                                <i class="fa fa-home">&nbsp;</i>Home
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/about/">
                            <h3>
                                <i class="fa fa-id-card-o">&nbsp;</i>About
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/blog/">
                            <h3>
                                <i class="fa fa-newspaper-o">&nbsp;</i>Blog
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/contact/">
                            <h3>
                                <i class="fa fa-envelope-o">&nbsp;</i>Contact
                            </h3>
                        </a>
                    </li>
                
            </ul>
        </section>

    
        <section id="recent-posts">
            <div class="mini-posts">
                <header>
                    <h3>Recent Posts</h3>
                </header>
                

                
                    
                

                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/blog/python-pptx/">Python-pptx Tables</a></h3>
                                
                                <time class="published" datetime=
                                    '2017-12-15'>
                                    December 15, 2017</time>
                            </header>
                            

                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/blog/python-google-calendar2/">Google Calendar - part 2</a></h3>
                                
                                <time class="published" datetime=
                                    '2017-11-17'>
                                    November 17, 2017</time>
                            </header>
                            

                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/blog/python-google-calendar1/">Google Calendar - part 1</a></h3>
                                
                                <time class="published" datetime=
                                    '2017-11-07'>
                                    November 7, 2017</time>
                            </header>
                            

                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/blog/python-gmail2/">Python Gmail - part 2</a></h3>
                                
                                <time class="published" datetime=
                                    '2017-10-09'>
                                    October 9, 2017</time>
                            </header>
                            

                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/blog/python-gmail1/">Python Gmail - part 1</a></h3>
                                
                                <time class="published" datetime=
                                    '2017-09-15'>
                                    September 15, 2017</time>
                            </header>
                            

                        </article>
                

                
                    <a href=
                        
                            /blog/
                        
                        class="button">View more posts</a>
                
            </div>
        </section>

    
        
</section>

    <section id="share-menu">
    <section id="social-share-nav">
        <ul class="links">
            <header>
                <h3>Share this post <i class="fa fa-smile-o"></i></h3>
            </header>
            



<li>
  <a href="//twitter.com/share?url=http%3a%2f%2fdata-handyman.com%2fblog%2fpython-gmail1%2f&text=Python%20Gmail%20-%20part%201&via=" target="_blank" class="share-btn twitter">
    <i class="fa fa-twitter"></i>
    <p>Twitter</p>
    </a>
</li>

<li>
  <a href="//plus.google.com/share?url=http%3a%2f%2fdata-handyman.com%2fblog%2fpython-gmail1%2f" target="_blank" class="share-btn google-plus">
    <i class="fa fa-google-plus"></i>
    <p>Google+</p>
  </a>
</li>

<li>
  <a href="//www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fdata-handyman.com%2fblog%2fpython-gmail1%2f" target="_blank" class="share-btn facebook">
    <i class="fa fa-facebook"></i>
    <p>Facebook</p>
    </a>
</li>

<li>
  <a href="//reddit.com/submit?url=http%3a%2f%2fdata-handyman.com%2fblog%2fpython-gmail1%2f&title=Python%20Gmail%20-%20part%201" target="_blank" class="share-btn reddit">
    <i class="fa fa-reddit-alien"></i>
    <p>Reddit</p>
  </a>
</li>

<li>
  <a href="//www.linkedin.com/shareArticle?url=http%3a%2f%2fdata-handyman.com%2fblog%2fpython-gmail1%2f&title=Python%20Gmail%20-%20part%201" target="_blank" class="share-btn linkedin">
      <i class="fa fa-linkedin"></i>
      <p>LinkedIn</p>
    </a>
</li>

<li>
  <a href="//www.stumbleupon.com/submit?url=http%3a%2f%2fdata-handyman.com%2fblog%2fpython-gmail1%2f&title=Python%20Gmail%20-%20part%201" target="_blank" class="share-btn stumbleupon">
    <i class="fa fa-stumbleupon"></i>
    <p>StumbleUpon</p>
  </a>
</li>

<li>
  <a href="//www.pinterest.com/pin/create/button/?url=http%3a%2f%2fdata-handyman.com%2fblog%2fpython-gmail1%2f&description=Python%20Gmail%20-%20part%201" target="_blank" class="share-btn pinterest">
    <i class="fa fa-pinterest-p"></i>
    <p>Pinterest</p>
  </a>
</li>

<li>
  <a href="mailto:?subject=Check out this post by Liam%20Cryan&body=http%3a%2f%2fdata-handyman.com%2fblog%2fpython-gmail1%2f" target="_blank" class="share-btn email">
    <i class="fa fa-envelope"></i>
    <p>Email</p>
  </a>
</li>

        </ul>
    </section>
</section>

    
    <div id="main">
        
        
        <article class="post">
  <header>
    <div class="title">
        
            <h1><a href="/blog/python-gmail1/">Python Gmail - part 1</a></h1>
            
        
        
            <p>Required set up for python - gmail interaction</p>
        
    </div>
    <div class="meta">
        

        <time class="published"
            datetime='2017-09-15'>
            September 15, 2017</time>
        <span class="author">Liam Cryan</span>
        
            <p>3 minute read</p>
        
        
    </div>
</header>


  
    <section id="social-share">
      <ul class="icons">
        



<li>
  <a href="//twitter.com/share?url=http%3a%2f%2fdata-handyman.com%2fblog%2fpython-gmail1%2f&text=Python%20Gmail%20-%20part%201&via=" target="_blank" class="share-btn twitter">
    <i class="fa fa-twitter"></i>
    <p>Twitter</p>
    </a>
</li>

<li>
  <a href="//plus.google.com/share?url=http%3a%2f%2fdata-handyman.com%2fblog%2fpython-gmail1%2f" target="_blank" class="share-btn google-plus">
    <i class="fa fa-google-plus"></i>
    <p>Google+</p>
  </a>
</li>

<li>
  <a href="//www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fdata-handyman.com%2fblog%2fpython-gmail1%2f" target="_blank" class="share-btn facebook">
    <i class="fa fa-facebook"></i>
    <p>Facebook</p>
    </a>
</li>

<li>
  <a href="//reddit.com/submit?url=http%3a%2f%2fdata-handyman.com%2fblog%2fpython-gmail1%2f&title=Python%20Gmail%20-%20part%201" target="_blank" class="share-btn reddit">
    <i class="fa fa-reddit-alien"></i>
    <p>Reddit</p>
  </a>
</li>

<li>
  <a href="//www.linkedin.com/shareArticle?url=http%3a%2f%2fdata-handyman.com%2fblog%2fpython-gmail1%2f&title=Python%20Gmail%20-%20part%201" target="_blank" class="share-btn linkedin">
      <i class="fa fa-linkedin"></i>
      <p>LinkedIn</p>
    </a>
</li>

<li>
  <a href="//www.stumbleupon.com/submit?url=http%3a%2f%2fdata-handyman.com%2fblog%2fpython-gmail1%2f&title=Python%20Gmail%20-%20part%201" target="_blank" class="share-btn stumbleupon">
    <i class="fa fa-stumbleupon"></i>
    <p>StumbleUpon</p>
  </a>
</li>

<li>
  <a href="//www.pinterest.com/pin/create/button/?url=http%3a%2f%2fdata-handyman.com%2fblog%2fpython-gmail1%2f&description=Python%20Gmail%20-%20part%201" target="_blank" class="share-btn pinterest">
    <i class="fa fa-pinterest-p"></i>
    <p>Pinterest</p>
  </a>
</li>

<li>
  <a href="mailto:?subject=Check out this post by Liam%20Cryan&body=http%3a%2f%2fdata-handyman.com%2fblog%2fpython-gmail1%2f" target="_blank" class="share-btn email">
    <i class="fa fa-envelope"></i>
    <p>Email</p>
  </a>
</li>

      </ul>
    </section>
  

  

  <div id="content">
    

<h2 id="gmail-and-python">Gmail and Python</h2>

<p>In the <a href="/post/formspree/">last post</a> I mentioned that I wanted to organize the data
received from the contact form.  If you don&rsquo;t remember, the important thing to know
is that the form on my Contact page is sent to my Gmail account via a service
called Formspree.</p>

<p>To do this automatically, I will use Python, my favorite programming language.  Getting
Python to interact with Gmail was not too difficut.  There are a lot of helpful resources
online.</p>

<h3 id="gmail-security-hurdles">Gmail Security Hurdles</h3>

<p>The biggest problem I was facing when I fist tried this out was Gmail not letting
me access its email server via Python.  This is due to Gmail&rsquo;s security.  Here is
a typical way to connect to Gmail via Python:</p>

<pre><code class="language-python">import imaplib
m = imaplib.IMAP4_SSL(&quot;imap.gmail.com&quot;)
m.login(&quot;data.handyman.01@gmail.com&quot;, &quot;mypassword1234&quot;)
</code></pre>

<p>Here is the error I received:</p>

<pre><code>imaplib.IMAP4.error:
b'[ALERT] Please log in via your web browser:
https://support.google.com/mail/accounts/answer/78754 (Failure)'
</code></pre>

<h3 id="use-an-app-password-or-allow-less-secure-apps">Use an App Password or Allow Less Secure Apps</h3>

<p>The link provided in this error message suggest a couple of options that you have to
get around this problem.  See the highlighted text in the image below for a
description.</p>

<p><img src="/img/2017/09/gmail1-1.png"> </img></p>

<h3 id="and-an-app-password-it-is">&hellip;And an App Password it is</h3>

<p>I decided to choose an to generate an App Password because I didn&rsquo;t like the
idea of making something less secure.  Generating an App Password involves first
enabling 2-step authentication, and then generating your App Password.</p>

<h3 id="enable-2-step-authentication-a-name-2-step-authentication-a">Enable 2-Step Authentication<a name="2-step-authentication"></a></h3>

<p>To enable 2-step authentication, I started at this link:</p>

<ul>
<li><a href="https://myaccount.google.com/intro/security?pli=1">https://myaccount.google.com/intro/security?pli=1</a></li>
</ul>

<p>With 2-step authentication, each time you log on to Gmail, your phone receives
a special code which you will have to then enter.  It is more of a hassle
than one password, but it is worth it to me for the sake of getting Gmail to
interact with Python.</p>

<h3 id="generate-an-app-password-a-name-app-password-a">Generate an App Password<a name="app-password"></a></h3>

<p>To generate an App Password, I looked at the following link:</p>

<ul>
<li><a href="https://support.google.com/accounts/answer/185833?hl=en">https://support.google.com/accounts/answer/185833?hl=en</a></li>
</ul>

<p>There is a section on the webpage that talks about how to generate an App
 Password as well as some pretty good instructions.  Once you have you 16
 character App Password, run this code to test that it works:</p>

<pre><code class="language-python"> import imaplib
 m = imaplib.IMAP4_SSL(&quot;imap.gmail.com&quot;)
 m.login(&quot;data.handyman.01@gmail.com&quot;, &quot;my_app_password&quot;)
</code></pre>

<p>This time you will see this:</p>

<pre><code> ('OK', [b'data.handyman.01@gmail.com authenticated (Success)'])
</code></pre>

<h3 id="simple-gmail-part-2-precursor">Simple Gmail - part 2 - precursor</h3>

<p>It is great that we are now set up to interact with Gmail via Python!  Sometimes
you need to get things set up, and while it is important, it isn&rsquo;t always fun.</p>

<p>Topics in part 2 include:</p>

<p>In part 2 we will be going over how to search for the data that Formspree
sent when someone presses the Submit on the Contact form.  We&rsquo;ll also talk about
some things you can do with that data once Python has control of it.</p>

<p>You&rsquo;re awesome.  Thanks for reading.</p>

  </div>

  <footer>
    <ul class="stats">
    
        

        
        
            <li>
                
                
                    

                    
                        Category
                    
                
            </li>
        
    

    
    
        <li><a href='/categories/programming'>programming</a></li>
    
</ul>

  </footer>

</article>

    <article class="post">
      <h2>Say something</h2>

  <form class="post-new-comment" method="POST" action="https://api.staticman.net/v2/entry/liamcryan/data-handyman/master/comments">

    <input type="hidden" name="options[redirect]" value="http://data-handyman.com//blog/python-gmail1/">
    <input type="hidden" name="options[entryId]" value="8857b513c4ec86957cfd89de043e6343">
    <input required name="fields[name]" type="text" placeholder="Your name (Required)">
    <input name="fields[website]" type="text" placeholder="Your website">
    <input required name="fields[email]" type="email" placeholder="Your email address (Required for Gravatar)">
    <textarea required name="fields[body]" placeholder='Your message. Feel free to use Markdown (Google "Markdown Cheat Sheet").' rows="10"></textarea>
    <input type="hidden" name="options[reCaptcha][siteKey]" value="6LeUxz8UAAAAAPx7Z6JcI-BiUr0rpMSXJs8Y4jcQ">
    <input type="hidden" name="options[reCaptcha][secret]" value="JUK5Q5EeEZcTJ7NNOr8bOUBuZtNQqUg/EePxIq5Yz8G3ia7hyd5GqUGcKWTHEs1qpETixT0GxSzh1uDPpyp&#43;HL0t6snqwIZ0Grte1y55MvqW2XDa/lclZqo/ebA&#43;JKm7tIDgwaBFbnvoOdOwJOJwDdbN2pTAVd/NW6icX3&#43;UQY0=">
    <div class="g-recaptcha" data-sitekey="6LeUxz8UAAAAAPx7Z6JcI-BiUr0rpMSXJs8Y4jcQ"></div>
    <input type="submit" value="Submit">
  </form>
<script src='https://www.google.com/recaptcha/api.js'></script>

<h2>Comments</h2>






  



  <p>Nothing yet.</p>


    </article>


<ul class="actions pagination">
    
        <li><a href="/blog/formspree/"
                class="button big previous">Formspree?</a></li>
    

    
        <li><a href="/blog/python-gmail2/"
                class="button big next">Python Gmail - part 2</a></li>
    
</ul>


    </div>
    
<section id="sidebar">

  
  <section id="intro">
    
    
      
        <a href='/'><img src="/img/main/logo.jpg" class="intro-circle" width="100px" alt="Hugo Future Imperfect" /></a>
      
    
    
      <header>
        <h2>Liam Cryan</h2>
        <p>How to be handy with data</p>
      </header>
    
    
      <ul class="icons">
        
          <li>
            <a href="" type="application/rss+xml" target="_blank" title="RSS" class="fa fa-rss"></a>
          </li>
        
        
  <li><a href="//github.com/liamcryan" target="_blank" title="GitHub" class="fa fa-github"></a></li>

























  <li><a href="//linkedin.com/in/liam-cryan-8a1a4853" target="_blank" title="LinkedIn" class="fa fa-linkedin"></a></li>













































  <li><a href="mailto:liam@data.handyman.com" title="Email" class="fa fa-envelope"></a></li>


      </ul>
    
  </section>

  
  <section id="recent-posts">
    <div class="mini-posts">
      <header>
        <h3>Recent Posts</h3>
      </header>
      <div class="posts-container">
        

        
          
        

        
          <article class="mini-post">
            <header>
              <h3>
                <a href="/blog/python-pptx/">Python-pptx Tables</a>
              </h3>
              
              <time class="published" datetime='2017-12-15'>
                December 15, 2017
              </time>
            </header>
            

          </article>
        
          <article class="mini-post">
            <header>
              <h3>
                <a href="/blog/python-google-calendar2/">Google Calendar - part 2</a>
              </h3>
              
              <time class="published" datetime='2017-11-17'>
                November 17, 2017
              </time>
            </header>
            

          </article>
        
          <article class="mini-post">
            <header>
              <h3>
                <a href="/blog/python-google-calendar1/">Google Calendar - part 1</a>
              </h3>
              
              <time class="published" datetime='2017-11-07'>
                November 7, 2017
              </time>
            </header>
            

          </article>
        
          <article class="mini-post">
            <header>
              <h3>
                <a href="/blog/python-gmail2/">Python Gmail - part 2</a>
              </h3>
              
              <time class="published" datetime='2017-10-09'>
                October 9, 2017
              </time>
            </header>
            

          </article>
        
          <article class="mini-post">
            <header>
              <h3>
                <a href="/blog/python-gmail1/">Python Gmail - part 1</a>
              </h3>
              
              <time class="published" datetime='2017-09-15'>
                September 15, 2017
              </time>
            </header>
            

          </article>
        
      </div>

      
        <a href=
          
            /blog/
          
        class="button">View more posts</a>
      
    </div>
  </section>

  
  
  
  
    <section id="categories">
      <header>
        <h3>
          <a href="/categories/">Categories</a>
        </h3>
      </header>
        
          
        

        
        <p>
          <article>
            <header>
              
                <a href="/categories/programming/">programming</a>
                <span style="float:right;">5</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/python/">Python</a>
                <span style="float:right;">1</span>
              
            </header>
          </article>
        </p>
        
    </section>
  

  
  
    <section id="mini-bio">
      <h3>About</h1>
      <p>A data handyman is a person who is like any other handyman.  Not always a man, but always handy.</p>
      <a href="/about/" class="button">Learn More</a>
    </section>
  

  
  <section id="footer">
    
      <ul class="icons">
        
          <li>
            <a href="" type="application/rss+xml" target="_blank" title="RSS" class="fa fa-rss"></a>
          </li>
        
        
  <li><a href="//github.com/liamcryan" target="_blank" title="GitHub" class="fa fa-github"></a></li>

























  <li><a href="//linkedin.com/in/liam-cryan-8a1a4853" target="_blank" title="LinkedIn" class="fa fa-linkedin"></a></li>













































  <li><a href="mailto:liam@data.handyman.com" title="Email" class="fa fa-envelope"></a></li>


      </ul>
    
    <p class="copyright">
      
        &copy; 2017
        
          Data Handyman
        
      .
      Powered by <a href="//gohugo.io" target="_blank">Hugo</a>
    </p>
  </section>
</section>

    </div>
    <a id="back-to-top" href="#" class="fa fa-arrow-up fa-border fa-2x"></a>
    

    
      
    

    
    
      <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/skel/3.0.1/skel.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.js"></script>
      <script src="/js/util.js"></script>
      <script src="/js/main.js"></script>
      <script src="/js/backToTop.js"></script>
      <script src="/js/add-on.js"></script>
    

    
      
        
      
    

    
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

